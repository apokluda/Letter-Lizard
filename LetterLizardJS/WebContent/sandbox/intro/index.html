<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Letter Lizard!</title>
<script src="http://code.createjs.com/createjs-2013.02.12.min.js" type="text/javascript"></script>
<script type="text/javascript">
	var stage;
	var queue;

	function init() {
		stage = new createjs.Stage("myCanvas");
		
		queue = new createjs.LoadQueue();
		queue.installPlugin(createjs.Sound);
		queue.addEventListener("complete", handleComplete);
		queue.loadManifest([{id:"daisy", src:"daisy.png"},  {id:"sound", src:"bionic.mp3"}]);
	}
	
	function handleComplete(event) {
		var ball = new createjs.Shape();
		ball.addEventListener("click", handleClick);
		ball.graphics.beginFill("#000000").drawCircle(0, 0, 50);
		ball.x = 50;
		ball.y = 200;

		createjs.Tween.get(ball, {loop : true}).to({x : 450}, 3000).to({x : 50}, 3000);
		createjs.Ticker.setFPS(30);
		createjs.Ticker.addEventListener("tick", tick);

		stage.addChild(ball);
		stage.update();
	}

	function handleClick(event) {
		var bmp = new createjs.Bitmap(queue.getResult("daisy"));
		bmp.x = Math.random()*500;
		bmp.y = Math.random()*500;
		stage.addChild(bmp);
		createjs.Sound.play("sound");
	}

	function tick(event) {
		stage.update();
	}
</script>
</head>
<body onload="init()">
	<canvas id="myCanvas" width="500" height="500">
        Sorry! Your browser does not support the Canvas element.<br>
        Please update your browser so that you can enjoy <em>Letter Lizard</em>.
    </canvas>
</body>
</html>